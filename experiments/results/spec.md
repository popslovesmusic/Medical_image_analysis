# Module Specification

**Path:** experiments/results
**Generated by:** Codex cleanup task
**Date:** 2025-10-31

Specification: Experimental Results Layer

Module Path: experiments/results/
Parent Specs:

experiments/spec.md (framework overview)

core/diagnostics/spec.md (metrics and evaluation)

docs/spec.md (reporting integration)

experiments/archive/spec.md (long-term preservation)

I. Mission

The Results Layer provides a standardized, deterministic structure for capturing every output from a completed experimentâ€”numerical metrics, spectral plots, confusion matrices, loss curves, and generated visualizations.

It ensures that all outputs are:

âœ… Reproducible (bit-exact under same seed)

ðŸ“Ž Linked (via manifest SHA)

ðŸ“ˆ Analyzable (machine-parsable JSON/CSV)

ðŸ“œ Reportable (Markdown summaries auto-generated)

II. Directory Layout
experiments/results/
â”œâ”€ metrics/           # Structured numeric outputs (JSON, CSV)
â”œâ”€ plots/             # Rendered charts (SVG, PNG)
â”œâ”€ visualizations/    # Image overlays, reconstructions
â”œâ”€ summaries/         # Markdown reports generated by Codex
â”œâ”€ comparisons/       # Multi-experiment statistical analyses
â”œâ”€ manifests/         # Hash registry for every result artifact
â””â”€ tmp/               # Temporary buffers cleared post-run

III. Output File Standards
Type	Format	Description
Metrics	.json, .csv	Key numeric indicators from diagnostics
Plots	.svg (primary), .png (fallback)	Deterministic line charts, histograms, FFTs
Visualizations	.png, .tiff	Processed medical images or model outputs
Summaries	.md	Human-readable experiment outcome
Comparisons	.csv, .md	Statistical deltas between multiple runs
Manifest	.json	Cryptographic record linking results to config
IV. Metric Schema

Every JSON result file adheres to a unified schema for automated validation.

{
  "experiment_id": "exp_2025_10_31_mri_classification",
  "timestamp": "2025-10-31T23:00:00Z",
  "metrics": {
    "accuracy": 0.9321,
    "precision": 0.9183,
    "recall": 0.9094,
    "f1_score": 0.9138,
    "loss": 0.1285,
    "energy_drift_db": 0.41
  },
  "runtime": {
    "epochs": 25,
    "duration_sec": 842.3
  },
  "source_commit": "8f2b3d1",
  "sha256": "1b8e47bca5b1342a9d77c4e6db241e21a4e3d9e9..."
}


All floats are rounded to six decimal places, and field order is lexicographically sorted before hashing.

V. Visualization Determinism
1. Plot Rendering

Generated by core/diagnostics/plotter.rs using fixed seeds and normalized axes:

Constraint	Description
Layout Seed: 42	Identical axis layout across systems
Font: Noto Sans Mono	Font rendering stability
Color Palette: Chromatic field LUT	Consistent color mapping
Line Width: Fixed 2px	Device-independent scaling
Resolution: 1280Ã—720	Normalized canvas size
2. Image Outputs

Produced via deterministic reconstruction pipeline:

Same compression parameters

Same float â†’ pixel quantization

Hash verification against manifest

Ensures reproducibility even for stochastic augmentations.

VI. Result Manifests

Each experiment has a manifest describing every generated result file.

Example: experiments/results/manifests/exp_2025_10_31_mri_classification.json

{
  "experiment_id": "exp_2025_10_31_mri_classification",
  "commit_hash": "8f2b3d1",
  "files": [
    {"path": "metrics/exp_2025_10_31.json", "sha256": "a29f..."},
    {"path": "plots/loss_curve.svg", "sha256": "dd03..."},
    {"path": "summaries/exp_2025_10_31_summary.md", "sha256": "5e1c..."}
  ],
  "verified": true
}


Validation is performed automatically via:

scripts/verify_results_integrity.py

core/meta/chronicle.rs

VII. Summary Reports

Every experiment produces a Markdown summary (auto-generated by Codex):

Example: summaries/exp_2025_10_31_summary.md

# Experiment Summary: exp_2025_10_31_mri_classification

**Commit:** 8f2b3d1  
**Run Time:** 842.3 s  
**Seed:** 42  
**Modules:** trainer, diagnostics, tensor.core  

---

## Final Metrics

| Metric | Value |
|:-------|------:|
| Accuracy | 0.9321 |
| F1 Score | 0.9138 |
| Energy Drift | 0.41 dB |

---

## Diagnostic Notes

- Stable convergence at epoch 23  
- No NaN detected in gradients  
- Spectral coherence preserved (<0.5 dB variance)  
- Compatible with Phase 6 determinism criteria  

---

## Hash Verification
âœ… All 7 result artifacts verified via SHA-256.

VIII. Comparative Analysis

Files in results/comparisons/ evaluate performance deltas between two or more experiments.

Example:
bridge_test_vs_baseline.csv

Metric	Baseline	Bridge	Î”	Î” %
Accuracy	0.900	0.932	+0.032	+3.6 %
Loss	0.144	0.128	âˆ’0.016	âˆ’11.1 %
Coherence	0.911	0.934	+0.023	+2.5 %

Comparisons are generated deterministically by scripts/compare_results.py.

IX. Validation Workflow
Step	Process	Verification Tool
1	Collect results post-training	trainer/validator
2	Hash each artifact	scripts/hash_results.py
3	Cross-verify with manifest	core/meta/chronicle.rs
4	Generate summary report	docs/reports/
5	Archive verified outputs	experiments/archive/

Each run must pass integrity validation before being archived.

X. Integration Map
Producer	Consumer	Data Flow
trainer/src/validator	experiments/results/metrics	Metric outputs
core/diagnostics	experiments/results/plots	Visual diagnostics
scripts/publish_report.py	experiments/results/summaries	Markdown summaries
experiments/archive	experiments/results/manifests	Cross-linked SHA registry
XI. Determinism Rules
Rule	Constraint
Float rounding	1eâ»â¶ precision
CSV delimiter	, only (UTF-8)
Date format	ISO 8601 UTC
File order	Lexicographic
Color space	sRGB linearized
Compression	None or deterministic gzip
XII. Compliance Summary
Field	Specification
Spec Version	1.0
Determinism Level	Bit-Exact
Hash Algorithm	SHA-256
Rendering Engine	Matplotlib (fixed-seed)
Audit Authority	Codex Experimental Agent
Revision	{{auto-date}}
Status	âœ… Verified Result Integrity